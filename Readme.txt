Really Bad Eggs
---------------

Really Bad Eggs started life as a remake of Super Foul Egg, itself a clone of
Puyo Puyo released for the Commodore Amiga in 1995.  However, I took the
opportunity to mix in some mechanics from Tetris and fix what I perceived to be
problems in the original game.


Game Mechanics
--------------

Coloured eggs drop down the screen in pairs.  They can be rotated in clockwise
and anticlockwise directions.  The objective is to arrange eggs of the same
colour so that their edges touch and the eggs connect.  When four or more eggs
of the same colour are connected in a chain, the eggs disappear from the grid
and any eggs above them drop down.  Scores increase dramatically if:

 - More than four eggs are connected in a single chain;
 - Several chains are removed at once;
 - The removal of a chain causes eggs to fall, which in turn makes additional
   chains of eggs.


Game Types
----------

Really Bad Eggs features three game types.  The first is a kind of cross between
Puyo Puyo and Tetris' A game.  Every time 10 chains of eggs are created, the
level increases.  Each level increase brings with it an increase in speed.  Try
to achieve the highest score possible before the game gets too fast to play.

The second type is a cross between Puyo Puyo and Tetris' B game.  The objective
is to get 25 chains.  A random distribution of eggs is placed in the grid when
the game starts.  The number of eggs and the speed of the game depends on the
difficulty chosen.

The last game type is a two-player mode against the CPU.   In this mode, the
level does not increase.  The objective is to survive longer than the CPU
player.

Each time chains are made in this mode, garbage eggs are dumped into the
opponent's grid.  These grey eggs do not connect with other eggs in the grid and
can only be removed by creating chains with eggs adjacent to them.  The number
of garbage eggs generated by chains is related to the number of points earned
for those chains, so creating more chains, longer chains or sequences of chains
will create more garbage eggs.


Menu System
-----------

When the game is booted up, a menu system is presented.  Use the d-pad to choose
from the highlighted options.  Press A to accept the selected option and move
to the next menu.  Press B to return to the previous menu.  Press Start to
accept all currently-selected options and skip over the menus to the game
itself.

The menus are as follows:

 - Game Type: Choose from the A/B 1-player games, or the easy/hard 2-player
   games.
 - Start Level: Choose the starting level.  Higher levels are faster.
 - Start Height: Choose the starting height.  The number corresponds to the
   amount of garbage eggs added to the grid at the start of the game.
 - Colours: The number of different colours of eggs in the game.


Controls
--------

Use the d-pad Left and Right buttons to move the current shape left and right.
Use the d-pad Down button to drop the current shape down towards the bottom of
the grid.  Use the A and B buttons to rotate the shape clockwise and anti-
clockwise.  The Start button pauses the game.

When paused, press the Start button to unpause.  Alternatively, press Select
to quit back to the main menu.


Scoring
-------

The formula for each chain is:

  10 * eggs * (eggs - 3) * sequence

Where:

 - eggs is the number of eggs in the chain;
 - (eggs - 3) is the number of extra eggs in the chain above the 4 minimum;
 - sequence is the number of times the grid has chained and dropped in sequence.

If a player explodes a chain of 4 red eggs and a chain of 5 green eggs
simultaneously, he gets the following scores:

  10 * 4 * (4 - 3) * 1 = 40
  10 * 5 * (5 - 3) * 1 = 100

He gets a total of 140 points for the two chains.

The grid drops down to fill in any gaps, and in doing so creates another chain
of 4 blue eggs.  These explode giving the following score:

  10 * 4 * (4 - 3) * 2 = 80

He gets 10 points for each egg (10 * 4 = 40).  The chain includes only the
minimum number of eggs (4 - 3) so he gets no bonus there.  However, this is
the second set of chains exploded, so the final score is doubled (40 * 2 = 80).
The running total so far is 120.

The grid drops to fill in any gaps again, and two more chains are created: 6
yellow eggs and 5 orange eggs.  The scores this time are:

  10 * 6 * (6 - 3) * 3 = 540
  10 * 5 * (5 - 3) * 3 = 300

The total for these two chains is 840, giving an overall score of 960.

Play then resumes, and the sequence multiplier resets to 1.


Garbage Eggs
------------

The number of garbage eggs generated by chains is calculated via two forumulae.
For the first group of chains the formula is:

  blocks - 3

If the player creates a chain of 5 blocks, the garbage created is:

  5 - 3 = 2

If the player creates a chain of 5 blocks and a chain of 6 blocks
simultaneously, the garbage created is:

  5 + 6 - 3 = 8

In subsequent groups of chains, the formula is as follows:

  blocks - 4 + 6

So, if the player creates a chain of 5 blocks, which falls to create a chain of
7 blocks, the formulae are:

  5 - 3     = 1  (first chain)
  7 - 4 + 6 = 9  (second chain)
            = 10 (total)

If the player has any incoming garbage eggs, their numbers are reduced before
the outgoing count is increased.  For example, if the player has 6 incoming
garbage eggs, the number of outgoing eggs will be:

  10 - 6 = 4

The number of incoming eggs will be 0.  However, if the player has 12 incoming
garbage eggs, the number of outgoing eggs would be 0, whilst the incoming eggs
would be:

  12 - 10 = 2


Levels
------

In game type A, play advances through one level every time 10 chains are
created.  The current level can therefore be said to be equal to the integer
result of the following formula:

  total chains / 10

Each increase in level increases the speed at which eggs automatically drop down
the screen.


Really Bad Eggs vs Super Foul Egg
---------------------------------

There are a number of differences between Really Bad Eggs and Super Foul Egg.
The most obvious change is the addition of Tetris-style speed increases,
scoring, chain counting and the B type game.  For me, these make the single
player mode much more interesting than the original game.

Really Bad Eggs does not include a two player mode for two humans.  There were
two ways to implement this.  The first would have been to share a single DS,
with one player using the d-pad and L button, whilst the other used the A, B, X
and Y buttons and R button.  This option is impractical as it would require that
the players are very well acquainted.  The second possibility was a wifi mode,
but I abandoned this idea early on as the DS and DS Lite's wifi capabilities are
hopeless.

The game does not include a "hard drop" option, in which pressing "Down" to drop
a pair of eggs causes them to drop all of the way to the bottom of the grid.  It
only features "soft drop", in which releasing "Down" stops the shape from
falling.  This is solely because I *loathe* the hard drop feature.

As Really Bad Eggs is written for a 66MHz computer in C++, whilst Super Foul
Egg was written for a 7.1MHz computer in AMOS (compiled BASIC), Really Bad Eggs
is noticably faster and smoother.

Garbage eggs are supposed to be removed from the grid when the eggs adjacent to
them explode.  However, Super Foul Egg features at least one situation in which
adjacent garbage eggs are incorrectly left in play.

Garbage eggs in Super Foul Egg are added to random columns.  In Really Bad Eggs,
these eggs are added to the lowest columns first.


Really Bad Eggs vs Puyo Puyo
----------------------------

Though I am a huge fan of Super Foul Egg, I have never really enjoyed any of the
official versions of Puyo Puyo.  Most of my annoyance with the games stems from
their emphasis on very long anime interludes between very short gameplay
sessions.

I had a look around at some Puyo Puyo fan sites whilst writing Really Bad Eggs
to see how SFE differed from the original.  Below are some conscious decisions
I've made to embrace or abandon Puyo Puyo features.

Recent versions of Puyo Puyo have added the ability to create defensive garbage
eggs.  For example, suppose my enemy dumps 10 garbage eggs on me, but before
they appear I dump 5 garbage eggs on him.  The game subtracts my outgoing eggs
(5) from the incoming eggs (10) to give me 5 garbage eggs and my enemy none
This sounded like a great feature.  I implemented it and immediately hated it.

I modelled the algorithm for scoring on online descriptions of Puyo Puyo.
However, it is slightly simplified.  The algorithm for generating garbage is
the same as Super Foul Egg's.  I tried the Puyo Puyo algorithm and found that it
did not work as well (at least it didn't with the modified scoring algorithm -
the garbage egg count is a function of the score in Puyo Puyo, whilst it is
a function of the number of blocks exploded/sequences created in SFE).

From what I read online, garbage eggs in Puyo Puyo are added to the columns with
the fewest eggs (ie. the lowest columns) first.  Really Bad Eggs does the same.

The addition of Tetris game mechanics is a substantial deviation from Puyo Puyo.

The original Puyo Puyo games feature steadily more advanced AI enemies.  Really
Bad Eggs features just one kind of AI that can be set to "slow" or "fast".  The
AI is fairly primitive, but it is smart enough to beat me yet not so good that
it beats me every time I play it.  I am sure that seasoned Puyo Puyo players
will be able to run rings around it.


Requirements
------------

To play the game you will need a flash cart and a DS or a DS emulator such as
DeSmuME.  To compile the sourcecode you will need to install devKitARM and the
WoopsiGfx library.


Credits and Acknowledgements
----------------------------

  - Coding                                          - Antony Dzeryn
  - Original graphics and sounds                    - David & Michael Hay


Links
-----

  - http://ant.simianzombie.com                     - Development blog
  - http://ant.simianzombie.com/forum               - Forum
  - http://bitbucket.org/ant512/reallybadeggs       - BitBucket page
  - http://bitbucket.org/ant512/woopsigfx           - WoopsiGfx library


Email
-----

  Contact me at ant@simianzombie.com.